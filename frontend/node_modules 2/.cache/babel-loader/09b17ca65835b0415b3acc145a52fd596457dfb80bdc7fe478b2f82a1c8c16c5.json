{"ast":null,"code":"import _regeneratorRuntime from\"/Users/harimasoor/Desktop/current/localVoices/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/harimasoor/Desktop/current/localVoices/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/harimasoor/Desktop/current/localVoices/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from'react-router-dom';import{Redirect}from\"react-router-dom\";import*as sessionActions from\"../../store/session\";import{Link}from\"react-router-dom\";import'./SignupForm.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignupForm(){var dispatch=useDispatch();var history=useHistory();var sessionUser=useSelector(function(state){return state.session.user;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),phone_number=_useState6[0],setPhoneNumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),errors=_useState10[0],setErrors=_useState10[1];if(sessionUser)return/*#__PURE__*/_jsx(Redirect,{to:\"/news_feed\"});var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _data,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setErrors([]);_context.prev=2;_context.next=5;return dispatch(sessionActions.signup({email:email,username:username,password:password,phone_number:phone_number}));case 5:history.push(\"/news_feed\");_context.next=22;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);_context.prev=10;_context.next=13;return _context.t0.clone().json();case 13:data=_context.sent;_context.next=21;break;case 16:_context.prev=16;_context.t1=_context[\"catch\"](10);_context.next=20;return _context.t0.text();case 20:data=_context.sent;case 21:if((_data=data)!==null&&_data!==void 0&&_data.errors)setErrors(data.errors);else if(data)setErrors([data]);else setErrors([_context.t0.statusText]);case 22:case\"end\":return _context.stop();}},_callee,null,[[2,8],[10,16]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Find your voice\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"ul\",{children:errors.map(function(error){return/*#__PURE__*/_jsx(\"li\",{children:error},error);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true,id:\"email-input\",placeholder:\" \"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email-input\",children:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},required:true,id:\"username-input\",placeholder:\" \"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username-input\",children:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:phone_number// Ensure you've set up state for this.\n,onChange:function onChange(e){return setPhoneNumber(e.target.value);},required:true,id:\"phone-number-input\",placeholder:\" \"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone-number-input\",children:\"Phone Number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true,id:\"password-input\",placeholder:\" \"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password-input\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-link\",children:[\"Already a member?\",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\" Login\"})]})]});}export default SignupForm;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useHistory","Redirect","sessionActions","Link","jsx","_jsx","jsxs","_jsxs","SignupForm","dispatch","history","sessionUser","state","session","user","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","username","setUsername","_useState5","_useState6","phone_number","setPhoneNumber","_useState7","_useState8","password","setPassword","_useState9","_useState10","errors","setErrors","to","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_data","data","wrap","_callee$","_context","prev","next","preventDefault","signup","push","t0","clone","json","sent","t1","text","statusText","stop","_x","apply","arguments","className","children","onSubmit","map","error","type","value","onChange","target","required","id","placeholder","htmlFor"],"sources":["/Users/harimasoor/Desktop/current/localVoices/frontend/src/components/SignupFormPage/SignupForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from 'react-router-dom';\nimport { Redirect } from \"react-router-dom\";\nimport * as sessionActions from \"../../store/session\";\nimport { Link } from \"react-router-dom\";\nimport './SignupForm.css'; \n\nfunction SignupForm() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const sessionUser = useSelector(state => state.session.user);\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [phone_number, setPhoneNumber] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  if (sessionUser) return <Redirect to=\"/news_feed\" />;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErrors([]);\n    try {\n      await dispatch(sessionActions.signup({ email, username, password, phone_number }));\n      history.push(\"/news_feed\");\n    } catch (res) {\n      let data;\n      try {\n        data = await res.clone().json();\n      } catch {\n        data = await res.text();\n      }\n      if (data?.errors) setErrors(data.errors);\n      else if (data) setErrors([data]);\n      else setErrors([res.statusText]);\n    }\n  };\n\n  \n  return (\n    \n    <div className=\"signup-form-container\">\n\n      <h1>Find your voice</h1>\n      <form onSubmit={handleSubmit}>\n        <ul>\n          {errors.map((error) => <li key={error}>{error}</li>)}\n        </ul>\n\n        {/* Email Input */}\n        <div className=\"input-container\">\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            id=\"email-input\"\n            placeholder=\" \"\n          />\n          <label htmlFor=\"email-input\">Email</label>\n        </div>\n\n        {/* Username Input */}\n        <div className=\"input-container\">\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n            id=\"username-input\"\n            placeholder=\" \"\n          />\n          <label htmlFor=\"username-input\">Username</label>\n        </div>\n        {/* Phone Number Input */}\n<div className=\"input-container\">\n    <input\n        type=\"tel\"\n        value={phone_number} // Ensure you've set up state for this.\n        onChange={(e) => setPhoneNumber(e.target.value)}\n        required\n        id=\"phone-number-input\"\n        placeholder=\" \"\n    />\n    <label htmlFor=\"phone-number-input\">Phone Number</label>\n</div>\n        {/* Password Input */}\n        <div className=\"input-container\">\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            id=\"password-input\"\n            placeholder=\" \"\n          />\n          <label htmlFor=\"password-input\">Password</label>\n        </div>\n        <div className=\"button-container\">\n          <button type=\"submit\">Sign Up</button>\n        </div>\n      </form>\n      <div className=\"login-link\">\n                Already a member? \n                <Link to=\"/login\"> Login</Link>\n            </div>\n    </div>\n  );\n}\n\nexport default SignupForm;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}