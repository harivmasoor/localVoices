{"ast":null,"code":"import _slicedToArray from\"/Users/harimasoor/Desktop/current/localVoices/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useDispatch}from'react-redux';import*as sessionActions from'../../store/session';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileButton(_ref){var user=_ref.user;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var openMenu=function openMenu(e){e.stopPropagation();if(showMenu)return;setShowMenu(true);};useEffect(function(){if(!showMenu)return;var closeMenu=function closeMenu(){setShowMenu(false);};document.addEventListener('click',closeMenu);return function(){return document.removeEventListener(\"click\",closeMenu);};},[showMenu]);var logout=function logout(e){e.preventDefault();dispatch(sessionActions.logout());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:openMenu,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user-circle\"})}),showMenu&&/*#__PURE__*/_jsxs(\"ul\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:user.username}),/*#__PURE__*/_jsx(\"li\",{children:user.email}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Log Out\"})})]})]});}export default ProfileButton;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","sessionActions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileButton","_ref","user","dispatch","_useState","_useState2","_slicedToArray","showMenu","setShowMenu","openMenu","e","stopPropagation","closeMenu","document","addEventListener","removeEventListener","logout","preventDefault","children","onClick","className","username","email"],"sources":["/Users/harimasoor/Desktop/current/localVoices/frontend/src/components/Navigation/ProfileButton.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport * as sessionActions from '../../store/session';\n\nfunction ProfileButton({ user }) {\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n  \n  const openMenu = (e) => {\n    e.stopPropagation();\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n  \n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = () => {\n      setShowMenu(false);\n    };\n\n    document.addEventListener('click', closeMenu);\n  \n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n  const logout = (e) => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n  };\n\n  return (\n    <>\n      <button onClick={openMenu}>\n        <i className=\"fa-solid fa-user-circle\" />\n      </button>\n      {showMenu && (\n        <ul className=\"profile-dropdown\">\n          <li>{user.username}</li>\n          <li>{user.email}</li>\n          <li>\n            <button onClick={logout}>Log Out</button>\n          </li>\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default ProfileButton;"],"mappings":"4IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,GAAK,CAAAC,cAAc,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEtD,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAW,IAAR,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAC3B,GAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,IAAAY,SAAA,CAAgCd,QAAQ,CAAC,KAAK,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B,GAAM,CAAAI,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,CAAC,CAAK,CACtBA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnB,GAAIJ,QAAQ,CAAE,OACdC,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAEDjB,SAAS,CAAC,UAAM,CACd,GAAI,CAACgB,QAAQ,CAAE,OAEf,GAAM,CAAAK,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtBJ,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAEDK,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAEF,SAAS,CAAC,CAE7C,MAAO,kBAAM,CAAAC,QAAQ,CAACE,mBAAmB,CAAC,OAAO,CAAEH,SAAS,CAAC,GAC/D,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAEd,GAAM,CAAAS,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIN,CAAC,CAAK,CACpBA,CAAC,CAACO,cAAc,CAAC,CAAC,CAClBd,QAAQ,CAACV,cAAc,CAACuB,MAAM,CAAC,CAAC,CAAC,CACnC,CAAC,CAED,mBACEnB,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACEvB,IAAA,WAAQwB,OAAO,CAAEV,QAAS,CAAAS,QAAA,cACxBvB,IAAA,MAAGyB,SAAS,CAAC,yBAAyB,CAAE,CAAC,CACnC,CAAC,CACRb,QAAQ,eACPV,KAAA,OAAIuB,SAAS,CAAC,kBAAkB,CAAAF,QAAA,eAC9BvB,IAAA,OAAAuB,QAAA,CAAKhB,IAAI,CAACmB,QAAQ,CAAK,CAAC,cACxB1B,IAAA,OAAAuB,QAAA,CAAKhB,IAAI,CAACoB,KAAK,CAAK,CAAC,cACrB3B,IAAA,OAAAuB,QAAA,cACEvB,IAAA,WAAQwB,OAAO,CAAEH,MAAO,CAAAE,QAAA,CAAC,SAAO,CAAQ,CAAC,CACvC,CAAC,EACH,CACL,EACD,CAAC,CAEP,CAEA,cAAe,CAAAlB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}